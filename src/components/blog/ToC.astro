---
interface Props {
    headings: Array<{ depth: number; slug: string; text: string }>;
}

const { headings } = Astro.props;
---

<div id="toc" class="mt-4 mb-6 p-6 rounded-lg shadow-sm bg-[var(--bg2)]">
    <h3 class="text-2xl font-semibold mb-4">Table of Contents</h3>
    <ul>
        {
            headings.map((heading) => (
                <li class={`ml-${(heading.depth - 2) * 5} hover:underline`}>
                    <a href={`#${heading.slug}`}>
                        {Array(heading.depth - 1)
                            .fill("#")
                            .join("")}{" "}
                        {heading.text}
                    </a>
                </li>
            ))
        }
    </ul>
</div>

<style>
    #toc {
        width: 100%;
    }
    li {
        margin-bottom: 0.5em;
        font-size: 1.1em;
    }

    a {
        text-decoration: underline;
        color: var(--accent3);
    }

    a:hover {
        text-decoration: none;
    }
</style>
